<UserControl
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d"
    xmlns:views="clr-namespace:ZuneSocialTagger.GUIV2.Views"
	x:Class="ZuneSocialTagger.GUIV2.Views.SearchResultsView"
	x:Name="UserControl"
	d:DesignWidth="663" Height="400" FontFamily="/ZuneSocialTagger.GUIV2;Component/Assets/Fonts/#Zegoe UI - U">

	<UserControl.Resources>
	<ResourceDictionary Source="../Resources.xaml ">
	</ResourceDictionary>
	</UserControl.Resources>

    <UserControl.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
            <BeginStoryboard Storyboard="{StaticResource LoadingAnim}"/>
        </EventTrigger>
    </UserControl.Triggers>

    <Border x:Name="LayoutRoot">
		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition/>
				<ColumnDefinition/>
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="40"/>
				<RowDefinition/>
			</Grid.RowDefinitions>
			
            <views:WebsiteAlbumMetaDataView DataContext="{Binding AlbumDetailsFromFile}"  VerticalAlignment="Top"/>
			<views:SearchBar DataContext="{Binding SearchBarViewModel}" VerticalAlignment="Top" Grid.Column="1" />
			<TextBlock Grid.Row="1" Text="{Binding Albums.Count, Converter={StaticResource AlbumCountToStringConverter}}" VerticalAlignment="Bottom" FontSize="13.333"/>
            <TextBlock Width="60" x:Name="tbLoading" Visibility="{Binding Path=IsLoading,Converter = {StaticResource BoolToVisConverter}}" Grid.Row="1" Grid.Column="1" VerticalAlignment="Bottom" FontSize="13.333" Foreground="#FF8A8D90" HorizontalAlignment="Right" />
			<ListView Style="{DynamicResource ListBoxStyle1}" IsSynchronizedWithCurrentItem="True" Background="Transparent" ScrollViewer.HorizontalScrollBarVisibility="Disabled" Grid.Row="2" ItemsSource="{Binding Albums}" Margin="0,0,36,0" FontFamily="/ZuneSocialTagger.GUIV2;Component/Assets/Fonts/#Zegoe UI - U" ItemContainerStyle="{DynamicResource SelectedItemHighlight}" SelectionChanged="ListView_SelectionChanged">
				<ListView.ItemTemplate>
					<DataTemplate>
						<StackPanel Margin="0,5,5,5" Loaded="StackPanel_Loaded">
                            <StackPanel.ToolTip>
                                <TextBlock Text="{Binding Title}"/>
                            </StackPanel.ToolTip>
							<TextBlock Text="{Binding Title}" FontSize="13.333"/>
							<TextBlock Text="{Binding Artist}" Foreground="#FF8A8D90" />
						</StackPanel>	
					</DataTemplate>
				</ListView.ItemTemplate>
			</ListView>
			
			<StackPanel Grid.Row="2" Grid.Column="1">
                <TextBlock ToolTip="{Binding SelectedAlbumTitle}" FontSize="18.667" Text="{Binding SelectedAlbumTitle}" FontFamily="/ZuneSocialTagger.GUIV2;Component/Assets/Fonts/#Zegoe UI Semi Bold - U"/>
                <ItemsControl Height="245" Background="Transparent" ItemsSource="{Binding SelectedAlbumSongs}">
						<ItemsControl.ItemTemplate>
						<DataTemplate>
                                        <StackPanel Orientation="Horizontal" Margin="3">
                                            <TextBlock Width="23" Text="{Binding Number}" VerticalAlignment="Center" FontSize="18"/>
                                            <TextBlock Text="{Binding Title}" VerticalAlignment="Center" FontSize="13.333" Margin="10,0,0,0"/>
                                        </StackPanel>
						</DataTemplate>
						</ItemsControl.ItemTemplate>
                    <ItemsControl.Template>
                        <ControlTemplate>
                            <ScrollViewer x:Name="ScrollViewer" Padding="{TemplateBinding Padding}">
                                <ItemsPresenter />
                            </ScrollViewer>
                        </ControlTemplate>
                    </ItemsControl.Template>
                </ItemsControl>
			</StackPanel>
		</Grid>
	</Border>
</UserControl>